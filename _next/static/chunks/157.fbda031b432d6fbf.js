(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[157],{3157:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return j}});var t=r(5893),o=r(7568),a=r(4051),s=r.n(a),i=r(7294),c=r(9581),l=r(3321),u=r(2151),d=r(6947),f=r.n(d),m=r(2175),h=r(4231),p=h.Ry().shape({name:h.Z_().required("\uc774\ub984\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694."),password:h.Z_().required("\ube44\ubc00\ubc88\ud638\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694."),content:h.Z_().required("\ub0b4\uc6a9\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694.")}),v=(0,u.ZP)(c.Z)({fontFamily:"Noto Sans KR","& label.Mui-focused":{color:"black"},"& .MuiInput-underline:after":{borderBottomColor:"gray"},"&:hover":{backgroundColor:"transparent"},"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:"gray"},"&.Mui-focused fieldset":{borderColor:"gray"}}}),x=(0,u.ZP)(l.Z)((function(e){e.theme;return{color:"#ffffff",fontFamily:"Noto Sans KR",fontWeight:500,backgroundColor:"#FF6E5B","&:hover":{backgroundColor:"#FFACA1"}}}));function b(){var e=(0,i.useState)([]),n=e[0],r=e[1],a=(0,i.useState)(!0),c=a[0],l=a[1],u=function(){var e=(0,o.Z)(s().mark((function e(){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/comment",{method:"GET",headers:{"Content-Type":"application/json"}});case 2:return e.next=4,e.sent.json();case 4:n=e.sent,r(n.comments),l(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=(0,m.TA)({initialValues:{name:"",password:"",content:"",date:new Date},validationSchema:p,onSubmit:function(e,n){(0,n.resetForm)({}),h(e).then((function(e){console.log(e),u()}))}}),h=function(){var e=(0,o.Z)(s().mark((function e(n){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/comment",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});case 2:return e.next=4,e.sent.json();case 4:return r=e.sent,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();(0,i.useEffect)((function(){u().then((function(e){return console.log(e)}))}),[]);var b=d.values,j=d.touched,g=d.errors,w=d.handleChange,y=d.handleSubmit;return(0,t.jsxs)("div",{children:[(0,t.jsx)("form",{onSubmit:y,children:(0,t.jsxs)("div",{className:f().box,children:[(0,t.jsx)(v,{name:"name",label:"\uc774\ub984",required:!0,id:"standard-size-small",size:"small",placeholder:"\uc774\ub984",value:b.name,error:j.name&&Boolean(g.name),variant:"standard",onChange:w}),(0,t.jsx)(v,{name:"content",label:"\ub0b4\uc6a9",required:!0,multiline:!0,rows:2,placeholder:"\ub0b4\uc6a9",value:b.content,error:j.content&&Boolean(g.content),variant:"standard",onChange:w}),(0,t.jsx)(v,{name:"password",type:"password",label:"\ube44\ubc00\ubc88\ud638",required:!0,id:"standard-size-small",size:"small",placeholder:"\ube44\ubc00\ubc88\ud638",value:b.password,error:j.password&&Boolean(g.password),onChange:w,variant:"standard"}),(0,t.jsx)("br",{}),(0,t.jsx)(x,{type:"submit",children:"\ub4f1\ub85d"})]})}),c?(0,t.jsx)("div",{children:"loading..."}):(0,t.jsx)("div",{children:n.map((function(e){return(0,t.jsxs)("div",{children:[e.name," : ",e.content,(0,t.jsx)("br",{}),e.createdDate.toLocaleString()]},e._id)}))})]})}function j(){return(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:f().title,children:" \uc138\uc911&\uc720\uc815\uc5d0\uac8c \ucd95\ud558 \uba54\uc2dc\uc9c0\ub97c \ub0a8\uaca8\uc8fc\uc138\uc694!"}),(0,t.jsx)(b,{})]})}},6947:function(e){e.exports={title:"comment_title__K6Axv",box:"comment_box__EzyB8"}}}]);